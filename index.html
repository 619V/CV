<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nawaf Al-Ghallabi - Portfolio</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --primary: #0f172a;       /* Deep Navy */
            --accent: #3b82f6;        /* Bright Blue */
            --bg-light: #f8fafc;      /* Light Gray BG */
            --card-bg: #ffffff;
            --text-dark: #334155;
            --text-light: #64748b;
            --border: #e2e8f0;
            --radius: 16px;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; transition: all 0.3s ease; }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.8;
            padding-bottom: 50px;
        }

        /* --- TYPOGRAPHY UTILS --- */
        body.en-mode { font-family: 'Poppins', sans-serif; }
        
        h1, h2, h3, h4 { color: var(--primary); font-weight: 700; }
        p { color: var(--text-light); }
        a { text-decoration: none; color: inherit; }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* --- HEADER --- */
        header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo i { color: var(--accent); }

        .lang-btn {
            background: white;
            border: 2px solid var(--border);
            color: var(--primary);
            padding: 8px 24px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .lang-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
            transform: translateY(-2px);
        }

        /* --- HERO SECTION --- */
        .hero {
            padding: 100px 0;
            text-align: center;
            background: linear-gradient(135deg, var(--primary) 0%, #172554 100%);
            color: white;
            border-radius: 0 0 60px 60px;
            margin-bottom: 60px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: radial-gradient(#3b82f6 1px, transparent 1px);
            background-size: 30px 30px;
            opacity: 0.1;
        }

        .hero h1 { color: white; font-size: 3.5rem; margin-bottom: 15px; line-height: 1.2; position: relative; }
        .hero p { color: #cbd5e1; font-size: 1.25rem; max-width: 700px; margin: 0 auto 30px; position: relative; min-height: 3.6em; }
        
        /* Typewriter Cursor */
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
            color: var(--accent);
            margin: 0 5px;
        }
        @keyframes blink { 50% { opacity: 0; } }

        .hero .badge {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.4);
            color: #93c5fd;
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            margin-bottom: 25px;
            display: inline-block;
            backdrop-filter: blur(5px);
        }

        .cta-box {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            position: relative;
        }
        
        .btn {
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary { background: var(--accent); color: white; border: none; }
        .btn-primary:hover { background: #2563eb; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4); }
        
        .btn-outline { background: transparent; border: 2px solid rgba(255,255,255,0.3); color: white; }
        .btn-outline:hover { background: white; color: var(--primary); }

        /* --- STATS SECTION --- */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: -50px; /* Overlap Hero */
            margin-bottom: 80px;
            position: relative;
            z-index: 10;
        }

        .stat-card {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .stat-card i { font-size: 2.5rem; color: var(--accent); margin-bottom: 15px; }
        
        .stat-number { 
            font-size: 2.5rem; 
            font-weight: 800; 
            color: var(--primary); 
            display: block;
            margin-bottom: 5px;
        }
        
        .stat-label { color: var(--text-light); font-weight: 600; }

        /* --- CERTIFICATES GRID --- */
        .section-header {
            text-align: center;
            margin-bottom: 50px;
        }
        .section-header h2 { font-size: 2.5rem; margin-bottom: 10px; }
        .section-header p { max-width: 600px; margin: 0 auto; }

        .cert-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        /* --- ANIMATED CARD STYLES --- */
        @keyframes liquidFlow {
            0% { background-position: 0% 0%; }
            50% { background-position: 0% 100%; }
            100% { background-position: 0% 0%; }
        }

        .cert-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 35px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            overflow: hidden;
            border-right: none;
        }

        .cert-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 6px;
            height: 100%;
            background-size: 100% 200%;
            animation: liquidFlow 3s linear infinite;
            transition: width 0.3s ease;
        }

        .cert-card:hover { transform: translateY(-8px); }
        .cert-card:hover::before { width: 10px; }

        /* --- TIER COLORS (Lighter & Brighter) --- */
        .tier-1 { --shadow-color: rgba(252, 165, 165, 0.4); }
        .tier-1::before { background-image: linear-gradient(to bottom, #fca5a5, #ef4444, #fca5a5); }
        .tier-1 .cert-icon { color: #ef4444; background: rgba(254, 202, 202, 0.3); }
        .tier-1:hover { box-shadow: 0 15px 30px -5px var(--shadow-color); }

        .tier-2 { --shadow-color: rgba(253, 186, 116, 0.4); }
        .tier-2::before { background-image: linear-gradient(to bottom, #fdba74, #f97316, #fdba74); }
        .tier-2 .cert-icon { color: #f97316; background: rgba(254, 215, 170, 0.3); }
        .tier-2:hover { box-shadow: 0 15px 30px -5px var(--shadow-color); }

        .tier-3 { --shadow-color: rgba(252, 211, 77, 0.4); }
        .tier-3::before { background-image: linear-gradient(to bottom, #fcd34d, #f59e0b, #fcd34d); }
        .tier-3 .cert-icon { color: #f59e0b; background: rgba(253, 230, 138, 0.3); }
        .tier-3:hover { box-shadow: 0 15px 30px -5px var(--shadow-color); }

        .tier-4 { --shadow-color: rgba(253, 224, 71, 0.4); }
        .tier-4::before { background-image: linear-gradient(to bottom, #fef08a, #eab308, #fef08a); }
        .tier-4 .cert-icon { color: #eab308; background: rgba(254, 240, 138, 0.3); }
        .tier-4:hover { box-shadow: 0 15px 30px -5px var(--shadow-color); }

        .cert-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            margin-bottom: 25px;
            transition: transform 0.3s;
        }
        .cert-card:hover .cert-icon { transform: scale(1.1); }

        .cert-title { font-size: 1.3rem; margin-bottom: 10px; line-height: 1.4; }
        .cert-desc { font-size: 1rem; color: var(--text-light); margin-bottom: 25px; }
        
        .cert-meta {
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #94a3b8;
        }
        .cert-status { color: #10b981; font-weight: 600; display: flex; align-items: center; gap: 5px; }

        .load-more-btn-container { text-align: center; margin-top: 50px; }
        
        .cert-card.dynamic-item {
            animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }

        /* --- CONTACT FOOTER --- */
        footer {
            margin-top: 100px;
            background: var(--primary);
            color: white;
            padding: 60px 0 30px;
            text-align: center;
        }
        .contact-box {
            background: rgba(255,255,255,0.05);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            margin: 0 auto 40px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .contact-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        .contact-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            transition: background 0.3s;
        }
        .contact-btn:hover { background: var(--accent); }

        /* --- MODAL STYLES --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.85); /* Darker backdrop */
            backdrop-filter: blur(8px);
            justify-content: center;
            align-items: center;
            animation: fadeInModal 0.3s ease-out;
        }

        .modal-content {
            position: relative;
            background-color: transparent;
            margin: auto;
            padding: 0;
            width: 90%;
            max-width: 1000px;
            height: 85vh; /* Fixed height relative to viewport */
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 12px;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 40px;
            font-weight: 300;
            transition: 0.3s;
            z-index: 2001;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .close-modal:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        #modal-img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        #modal-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        @keyframes fadeInModal {
            from {opacity: 0; transform: scale(0.95);}
            to {opacity: 1; transform: scale(1);}
        }

        [lang="en"] { display: none; }
        body.en-mode [lang="ar"] { display: none; }
        body.en-mode [lang="en"] { display: block; }
        body.en-mode span[lang="en"] { display: inline-block; }
        span[lang="ar"] { display: inline-block; }
        .ltr-override { direction: ltr; }

        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .stats-container { margin-top: 30px; }
            .header-content { flex-direction: column; gap: 15px; }
            .modal-content { width: 95%; height: 70vh; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="container header-content">
            <a href="#" class="logo">
                <i class="fa-solid fa-code"></i>
                <span lang="ar">نواف الغلابي</span>
                <span lang="en">Nawaf Al-Ghallabi</span>
            </a>
            <button class="lang-btn" onclick="toggleLanguage()">
                <i class="fa-solid fa-globe"></i>
                <span id="lang-btn-text">English</span>
            </button>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero">
        <div class="container">
            <div class="badge">
                <span lang="ar">ملف شخصي</span>
                <span lang="en">Professional Portfolio</span>
            </div>
            <h1>
                <span lang="ar">نواف بن حمود الغلابي</span>
                <span lang="en">Nawaf Hamood AlGhallabi</span>
            </h1>
            
            <!-- Typewriter Text Container (Empty start, populated by JS) -->
            <p id="hero-text-ar" lang="ar" class="typing-cursor"></p>
            <p id="hero-text-en" lang="en" class="typing-cursor"></p>
            
            <div class="cta-box">
                <a href="#certificates" class="btn btn-primary">
                    <span lang="ar">عرض الشهادات</span>
                    <span lang="en">View Certificates</span>
                </a>
                <a href="#contact" class="btn btn-outline">
                    <span lang="ar">تواصل معي</span>
                    <span lang="en">Contact Me</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Stats -->
    <div class="container">
        <div class="stats-container" id="stats-section">
            <div class="stat-card">
                <i class="fa-solid fa-calendar-check"></i>
                <span class="stat-number" data-target="10" data-prefix="+">0</span>
                <span class="stat-label" lang="ar">سنوات خبرة</span>
                <span class="stat-label" lang="en">Years Experience</span>
            </div>
            <div class="stat-card">
                <i class="fa-solid fa-certificate"></i>
                <span class="stat-number" data-target="27" data-prefix="+">0</span>
                <span class="stat-label" lang="ar">شهاداتي</span>
                <span class="stat-label" lang="en">Certifications</span>
            </div>
            <div class="stat-card">
                <i class="fa-solid fa-laptop-code"></i>
                <span class="stat-number" data-target="100" data-suffix="%">0</span>
                <span class="stat-label" lang="ar">شغف تقني</span>
                <span class="stat-label" lang="en">Tech Passion</span>
            </div>
        </div>
    </div>

    <!-- Certificates Section -->
    <section id="certificates" class="container" style="padding: 50px 20px;">
        <div class="section-header">
            <h2 lang="ar">الشهادات والإنجازات</h2>
            <h2 lang="en">Certificates & Achievements</h2>
            <p lang="ar">مجموعة مختارة من الشهادات المعتمدة في مجالات الأمن السيبراني والتقنية.</p>
            <p lang="en">A selection of certified qualifications in cybersecurity and technology fields.</p>
        </div>

        <div class="cert-grid" id="main-cert-grid">
            <!-- ⭐ STATIC: TIER 1 (RED) -->
            <!-- 1. IBM -->
            <div class="cert-card tier-1" onclick="openCertModal('My Certificate/certificate3.png')">
                <div class="cert-icon"><i class="fa-solid fa-building-columns"></i></div>
                <div>
                    <h3 class="cert-title" lang="ar">أساسيات الأمن السيبراني</h3>
                    <h3 class="cert-title" lang="en">Cybersecurity Fundamentals</h3>
                    <p class="cert-desc" lang="ar">التميز المهني في مفاهيم الأمن السيبراني من IBM.</p>
                    <p class="cert-desc" lang="en">Professional excellence in cybersecurity concepts from IBM.</p>
                </div>
                <div class="cert-meta">
                    <span class="ltr-override">IBM SkillsBuild</span>
                    <span class="cert-status">
                        <i class="fa-solid fa-circle-check"></i>
                        <span lang="ar">مكتمل</span><span lang="en">Done</span>
                    </span>
                </div>
            </div>
            <!-- 2. Cisco NetAcad -->
            <div class="cert-card tier-1" onclick="openCertModal('My Certificate/certificate2.png')">
                <div class="cert-icon"><i class="fa-solid fa-network-wired"></i></div>
                <div>
                    <h3 class="cert-title" lang="ar">مقدمة في الأمن السيبراني</h3>
                    <h3 class="cert-title" lang="en">Introduction to Cybersecurity</h3>
                    <p class="cert-desc" lang="ar">أساسيات الأمان عبر الإنترنت والتهديدات من سيسكو.</p>
                    <p class="cert-desc" lang="en">Basics of online safety and cyber threats from Cisco.</p>
                </div>
                <div class="cert-meta">
                    <span class="ltr-override">Cisco NetAcad</span>
                    <span class="cert-status">
                        <i class="fa-solid fa-circle-check"></i>
                        <span lang="ar">مكتمل</span><span lang="en">Done</span>
                    </span>
                </div>
            </div>
            <!-- 3. HP LIFE -->
            <div class="cert-card tier-1" onclick="openCertModal('My Certificate/certificate.png')">
                <div class="cert-icon"><i class="fa-solid fa-globe-americas"></i></div>
                <div>
                    <h3 class="cert-title" lang="ar">التوعية بالأمن السيبراني</h3>
                    <h3 class="cert-title" lang="en">Cyber Security Awareness</h3>
                    <p class="cert-desc" lang="ar">فهم التهديدات الشائعة وحماية البيانات من HP.</p>
                    <p class="cert-desc" lang="en">Understanding common threats and data safety from HP.</p>
                </div>
                <div class="cert-meta">
                    <span class="ltr-override">HP LIFE</span>
                    <span class="cert-status">
                        <i class="fa-solid fa-circle-check"></i>
                        <span lang="ar">مكتمل</span><span lang="en">Done</span>
                    </span>
                </div>
            </div>
            <!-- 4. Cisco Packet Tracer -->
            <div class="cert-card tier-1" onclick="openCertModal('My Certificate/certificate4.png')">
                <div class="cert-icon"><i class="fa-solid fa-sitemap"></i></div>
                <div>
                    <h3 class="cert-title" lang="ar">مقدمة في Packet Tracer</h3>
                    <h3 class="cert-title" lang="en">Intro to Packet Tracer</h3>
                    <p class="cert-desc" lang="ar">محاكاة وتكوين الشبكات باستخدام أداة سيسكو.</p>
                    <p class="cert-desc" lang="en">Network simulation using Cisco Packet Tracer.</p>
                </div>
                <div class="cert-meta">
                    <span class="ltr-override">Cisco NetAcad</span>
                    <span class="cert-status">
                        <i class="fa-solid fa-circle-check"></i>
                        <span lang="ar">مكتمل</span><span lang="en">Done</span>
                    </span>
                </div>
            </div>
        </div>

        <div class="load-more-btn-container" id="loadMoreBtnContainer">
            <button class="btn btn-primary" id="toggleCertBtn" onclick="toggleCertificates()">
                <i class="fa-solid fa-images"></i> 
                <span lang="ar">عرض معرض الشهادات (23+)</span>
                <span lang="en">Show Certificates Gallery (23+)</span>
            </button>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="contact-box">
                <h2 lang="ar" style="color: white; margin-bottom: 10px;">لنبدأ العمل معاً</h2>
                <h2 lang="en" style="color: white; margin-bottom: 10px;">Let's Work Together</h2>
                <p lang="ar" style="color: #cbd5e1;">هل لديك مشروع أو فرصة وظيفية؟ أنا متاح للتواصل.</p>
                <p lang="en" style="color: #cbd5e1;">Have a project or job opportunity? I'm available.</p>
                
                <div class="contact-actions">
                    <a href="mailto:nawaf.om@hotmail.com" class="contact-btn">
                        <i class="fa-solid fa-envelope"></i> nawaf.om@hotmail.com
                    </a>
                    <a href="tel:79652004" class="contact-btn">
                        <i class="fa-solid fa-phone"></i> 79652004
                    </a>
                </div>
            </div>
            
            <p class="ltr-override" style="font-size: 0.9rem; color: #64748b; opacity: 0.7;">
                &copy; 2025 Nawaf Al-Ghallabi. All Rights Reserved.
            </p>
        </div>
    </footer>

    <!-- MODAL STRUCTURE -->
    <div id="certModal" class="modal" onclick="closeCertModal()">
        <span class="close-modal">&times;</span>
        <div class="modal-content" onclick="event.stopPropagation()">
            <img id="modal-img" src="" alt="Certificate" style="display: none;">
            <iframe id="modal-iframe" src="" style="display: none;"></iframe>
        </div>
    </div>

    <script>
        // --- 1. LANGUAGE TOGGLE LOGIC ---
        function toggleLanguage() {
            const body = document.body;
            const btnText = document.getElementById('lang-btn-text');
            body.classList.toggle('en-mode');
            if (body.classList.contains('en-mode')) {
                body.setAttribute('dir', 'ltr');
                btnText.textContent = 'العربية';
            } else {
                body.setAttribute('dir', 'rtl');
                btnText.textContent = 'English';
            }
            updateGalleryLanguage();
            // Reset typewriter when toggling language
            clearTimeout(typewriterTimeout);
            isDeleting = false;
            charIndex = 0;
            txtIndex = 0;
            typeWriter();
        }

        function updateGalleryLanguage() {
            if (document.body.classList.contains('en-mode')) {
                document.querySelectorAll('.cert-grid [lang="ar"]').forEach(el => el.style.display = 'none');
                document.querySelectorAll('.cert-grid [lang="en"]').forEach(el => el.style.display = 'block');
            } else {
                document.querySelectorAll('.cert-grid [lang="en"]').forEach(el => el.style.display = 'none');
                document.querySelectorAll('.cert-grid [lang="ar"]').forEach(el => el.style.display = 'block');
            }
        }

        // --- 2. TYPEWRITER EFFECT (Cycle) ---
        const texts = {
            ar: [
                "خبير في صيانة الأنظمة، الذكاء الاصطناعي، الأمن السيبراني، وحلول تكنولوجيا المعلومات. نسعى للتميز الرقمي.",
                "إنسان يسعى للتعلم والتطور في تكنولوجيا الأمن السيبراني والذكاء الاصطناعي." 
            ],
            en: [
                "Expert in system maintenance, AI, cybersecurity, and IT solutions, striving for digital excellence.",
                "An aspiring individual seeking to learn and grow in Cybersecurity and Artificial Intelligence technologies."
            ]
        };

        let txtIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typewriterTimeout;

        function typeWriter() {
            const isEnglish = document.body.classList.contains('en-mode');
            const langKey = isEnglish ? 'en' : 'ar';
            const currentTextArray = texts[langKey];
            const currentText = currentTextArray[txtIndex];
            const elementId = isEnglish ? 'hero-text-en' : 'hero-text-ar';
            const hiddenId = isEnglish ? 'hero-text-ar' : 'hero-text-en';
            
            const element = document.getElementById(elementId);
            const hiddenElement = document.getElementById(hiddenId);
            
            // Manage visibility
            hiddenElement.textContent = '';
            hiddenElement.style.display = 'none';
            element.style.display = 'block';

            if (isDeleting) {
                charIndex--;
                element.textContent = currentText.substring(0, charIndex);
            } else {
                charIndex++;
                element.textContent = currentText.substring(0, charIndex);
            }

            let typeSpeed = 30; // Typing speed

            if (isDeleting) {
                typeSpeed /= 2; // Delete faster
            }

            if (!isDeleting && charIndex === currentText.length) {
                // Finished typing sentence
                typeSpeed = 3000; // Pause at end
                isDeleting = true;
            } else if (isDeleting && charIndex === 0) {
                // Finished deleting sentence
                isDeleting = false;
                txtIndex = (txtIndex + 1) % currentTextArray.length; // Next sentence
                typeSpeed = 30; // Pause before start
            }

            clearTimeout(typewriterTimeout);
            typewriterTimeout = setTimeout(typeWriter, typeSpeed);
        }

        // --- 3. STATS COUNTER ANIMATION ---
        function animateStats() {
            const counters = document.querySelectorAll('.stat-number');
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const prefix = counter.getAttribute('data-prefix') || '';
                const suffix = counter.getAttribute('data-suffix') || '';
                const duration = 5000;
                const increment = target / (duration / 20);
                let current = 0;
                const updateCounter = () => {
                    current += increment;
                    if (current < target) {
                        counter.innerText = prefix + Math.ceil(current) + suffix;
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.innerText = prefix + target + suffix;
                    }
                };
                updateCounter();
            });
        }

        // --- 4. MODAL FUNCTIONS ---
        function openCertModal(fileUrl) {
            const modal = document.getElementById('certModal');
            const img = document.getElementById('modal-img');
            const iframe = document.getElementById('modal-iframe');
            
            const extension = fileUrl.split('.').pop().toLowerCase();
            const isImage = ['jpg', 'jpeg', 'gif', 'png', 'webp'].includes(extension);
            
            if (isImage) {
                img.src = fileUrl;
                img.style.display = 'block';
                iframe.style.display = 'none';
                iframe.src = '';
            } else {
                iframe.src = fileUrl;
                iframe.style.display = 'block';
                img.style.display = 'none';
                img.src = '';
            }
            
            modal.style.display = 'flex';
        }

        function closeCertModal() {
            const modal = document.getElementById('certModal');
            const img = document.getElementById('modal-img');
            const iframe = document.getElementById('modal-iframe');
            
            modal.style.display = 'none';
            img.src = '';
            iframe.src = '';
        }

        // Close on Esc key
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                closeCertModal();
            }
        });

        // Initialize on Load
        document.addEventListener('DOMContentLoaded', () => {
            typeWriter(); // Start typewriter

            const statsSection = document.getElementById('stats-section');
            const observer = new IntersectionObserver((entries) => {
                if(entries[0].isIntersecting) {
                    animateStats();
                    observer.disconnect();
                }
            }, { threshold: 0.5 });
            observer.observe(statsSection);
        });

        // --- 5. CERTIFICATES DATA ---
        const certData = [
            // TIER 1
            { tier: "tier-1", icon: "fa-microchip", titleAr: "الذكاء الاصطناعي للمبتدئين", titleEn: "AI for Beginners", descAr: "فهم أساسي لأثر الذكاء الاصطناعي ومفاهيمه.", descEn: "Basic understanding of AI impact and concepts.", platform: "HP LIFE", file: "My Certificate/certificate1.png" },
            { tier: "tier-1", icon: "fa-robot", titleAr: "عناصر الذكاء الاصطناعي", titleEn: "Elements of AI", descAr: "مبادئ الذكاء الاصطناعي للأعمال.", descEn: "AI principles for business.", platform: "MinnaLearn", file: "My Certificate/cf73c648-e623-427c-b260-2f8b43372aaf.png" },
            // TIER 2
            { tier: "tier-2", icon: "fa-graduation-cap", titleAr: "تخصص الأمن السيبراني", titleEn: "Cyber Security Specialization", descAr: "إتمام مسار التخصص الكامل في الأمن السيبراني.", descEn: "Completion of full Cyber Security specialization track.", platform: "Edraak", file: "My Certificate/certificate edraak Cyber Security.png" },
            { tier: "tier-2", icon: "fa-road", titleAr: "المسار المهني السيبراني", titleEn: "Cyber Career Path", descAr: "فهم شامل للأدوار الوظيفية في قطاع الأمن السيبراني.", descEn: "Comprehensive understanding of job roles within the cybersecurity sector.", platform: "Edraak", file: "My Certificate/certificate edraak 4.png" },
            // TIER 3
            { tier: "tier-3", icon: "fa-shield-virus", titleAr: "مقدمة في الأمن السيبراني", titleEn: "Intro to Cyber Security", descAr: "التعرف على الجرائم الإلكترونية وأنواع الهجمات.", descEn: "Cybercrime, attack types, and threats overview.", platform: "Edraak", file: "My Certificate/certificate edraak.png" },
            { tier: "tier-3", icon: "fa-shield-halved", titleAr: "أساسيات الأمن السيبراني", titleEn: "Cyber Security Basics", descAr: "المفاهيم الأساسية والمصطلحات التقنية الحيوية.", descEn: "Vital technical terms and core concepts.", platform: "Edraak", file: "My Certificate/certificate edraak 1.png" },
            { tier: "tier-3", icon: "fa-lock", titleAr: "حماية الأنظمة من الاختراق", titleEn: "System Protection", descAr: "استراتيجيات متقدمة لحماية الأنظمة الرقمية.", descEn: "Advanced strategies to safeguard digital systems.", platform: "Edraak", file: "My Certificate/certificate edraak 2.png" },
            { tier: "tier-3", icon: "fa-brands fa-linux", titleAr: "تقنيات الهجوم و Kali Linux", titleEn: "Attack Tech & Kali Linux", descAr: "التعرف على أدوات اختبار الاختراق باستخدام كالي.", descEn: "Penetration testing tools using Kali Linux.", platform: "Edraak", file: "My Certificate/certificate edraak 3.png" },
            { tier: "tier-3", icon: "fa-shield-halved", titleAr: "مقدمة في الأمن السيبراني", titleEn: "Cyber Security Basics", descAr: "مستوى مبتدئ – مقدمة في أساسيات الأمن.", descEn: "Beginner level - Intro to Cyber Security.", platform: "Sadr / Tuwaiq", file: "My Certificate/certificate 0.png" },
            { tier: "tier-3", icon: "fa-terminal", titleAr: "أساسيات نظام لينكس", titleEn: "Linux Fundamentals 101", descAr: "التعامل مع سطر الأوامر وإدارة النظام.", descEn: "Command line interface and system management.", platform: "Sadr / Tuwaiq", file: "My Certificate/certificate 1.png" },
            { tier: "tier-3", icon: "fa-folder-tree", titleAr: "إدارة ملفات لينكس", titleEn: "Linux Files & Permissions", descAr: "إدارة الصلاحيات والملفات في بيئة لينكس.", descEn: "Managing permissions and files in Linux env.", platform: "Sadr / Tuwaiq", file: "My Certificate/certificate 2.png" },
            { tier: "tier-3", icon: "fa-user-secret", titleAr: "نظام كالي لينكس", titleEn: "Kali Linux", descAr: "استخدام أدوات كالي لاختبار الاختراق.", descEn: "Using Kali tools for penetration testing.", platform: "Sadr / Tuwaiq", file: "My Certificate/certificate 3.png" },
            { tier: "tier-3", icon: "fa-bug", titleAr: "التهديدات والثغرات", titleEn: "Threats & Vulnerabilities", descAr: "فهم أنواع الهجمات السيبرانية الشائعة.", descEn: "Understanding common cyber attack types.", platform: "Sadr / Tuwaiq", file: "My Certificate/certificate 4.png" },
            { tier: "tier-3", icon: "fa-key", titleAr: "بروتوكول SSH", titleEn: "Secure Shell (SSH)", descAr: "الاتصال الآمن وإدارة السيرفرات عن بعد.", descEn: "Secure connection and remote server management.", platform: "Sadr / Tuwaiq", file: "My Certificate/certificate 5.png" },
            // TIER 4
            { tier: "tier-4", icon: "fa-globe", titleAr: "اختراق الويب للمبتدئين", titleEn: "Web Hacking Basics", descAr: "اختبار ثغرات تطبيقات الويب.", descEn: "Web application vulnerability testing.", platform: "Udemy", file: "My Certificate/My Certificate/UC-9f22ab6b-68d5-4bed-9f64-caf68c2d4b5c.jpg" },
            { tier: "tier-4", icon: "fa-brands fa-windows", titleAr: "أمان نظام ويندوز", titleEn: "Windows Security", descAr: "تأمين وحماية أنظمة تشغيل الويندوز.", descEn: "Securing Windows operating systems.", platform: "Udemy", file: "My Certificate/UC-5fea4b03-7853-48ab-8a33-9f8b9a437a7a.jpg" },
            { tier: "tier-4", icon: "fa-file-shield", titleAr: "تحليل السجلات والدفاع", titleEn: "Log Analysis & Defense", descAr: "كشف اختراق الويندوز وتحليل الـ Logs.", descEn: "Windows hacking detection and Log analysis.", platform: "Udemy", file: "My Certificate/UC-b25425aa-dd6f-49ab-966e-43889b97c414.jpg" },
            { tier: "tier-4", icon: "fa-toolbox", titleAr: "أدوات الهاكرز", titleEn: "Hackers Toolkit", descAr: "أدوات أساسية للمخترق الأخلاقي.", descEn: "Essential tools for ethical hacking.", platform: "Udemy", file: "My Certificate/UC-26a3ad1e-3d33-4f49-9ce1-d42203e6f034.jpg" },
            { tier: "tier-4", icon: "fa-code", titleAr: "احتراف أوامر ويندوز (Hacking)", titleEn: "Windows Command Mastery", descAr: "إتقان سطر الأوامر للمحترفين الأمنيين.", descEn: "Command line mastery for security pros.", platform: "Udemy", file: "My Certificate/UC-5d52c720-8fe9-43fc-8f6f-84cd6fc83d1d.jpg" },
            { tier: "tier-4", icon: "fa-brain", titleAr: "أساسيات الذكاء الاصطناعي", titleEn: "AI Fundamentals", descAr: "مقدمة شاملة عن تقنيات الذكاء الاصطناعي.", descEn: "Comprehensive intro to AI technologies.", platform: "Udemy", file: "My Certificate/UC-09603d85-eecb-4ec9-ac37-12355549bae9.jpg" },
            { tier: "tier-4", icon: "fa-wand-magic-sparkles", titleAr: "إنشاء مواقع بلا كود (AI)", titleEn: "No Code Web Creation (AI)", descAr: "بناء مواقع باستخدام Deepseek AI.", descEn: "Building websites using Deepseek AI.", platform: "Udemy", file: "My Certificate/UC-edf944cb-bb9b-4e64-b843-4666f92a7f05.jpg" },
            { tier: "tier-4", icon: "fa-desktop", titleAr: "الدعم الفني للويندوز", titleEn: "IT & Desktop Support", descAr: "أساسيات دعم أنظمة ويندوز 10.", descEn: "Basics of Windows 10 desktop support.", platform: "Udemy", file: "My Certificate/UC-9eac266e-e2d0-4459-9de3-f67ca8a389f1.jpg" },
            { tier: "tier-4", icon: "fa-comments", titleAr: "التسويق عبر ChatGPT", titleEn: "ChatGPT Marketing", descAr: "تعزيز الحضور الرقمي باستخدام AI.", descEn: "Boosting digital presence using AI.", platform: "Udemy", file: "My Certificate/cert_cyber_intro.jpg" }
        ];

        let isExpanded = false;

        function toggleCertificates() {
            const grid = document.getElementById('main-cert-grid');
            const btnTextAr = document.querySelector('#toggleCertBtn span[lang="ar"]');
            const btnTextEn = document.querySelector('#toggleCertBtn span[lang="en"]');
            const btnIcon = document.querySelector('#toggleCertBtn i');

            if (!isExpanded) {
                let html = '';
                certData.forEach(cert => {
                    html += `
                    <div class="cert-card dynamic-item ${cert.tier}" onclick="openCertModal('${cert.file}')">
                        <div class="cert-icon"><i class="fa-solid ${cert.icon}"></i></div>
                        <div>
                            <h3 class="cert-title" lang="ar">${cert.titleAr}</h3>
                            <h3 class="cert-title" lang="en">${cert.titleEn}</h3>
                            <p class="cert-desc" lang="ar">${cert.descAr}</p>
                            <p class="cert-desc" lang="en">${cert.descEn}</p>
                        </div>
                        <div class="cert-meta">
                            <span class="ltr-override">${cert.platform}</span>
                            <span class="cert-status">
                                <i class="fa-solid fa-circle-check"></i>
                                <span lang="ar">مكتمل</span><span lang="en">Done</span>
                            </span>
                        </div>
                    </div>`;
                });
                
                grid.insertAdjacentHTML('beforeend', html);
                updateGalleryLanguage();
                
                btnTextAr.innerText = "عرض أقل";
                btnTextEn.innerText = "Show Less";
                btnIcon.className = "fa-solid fa-chevron-up";
                isExpanded = true;
            } else {
                document.querySelectorAll('.dynamic-item').forEach(el => el.remove());
                
                btnTextAr.innerText = "عرض معرض الشهادات (23+)";
                btnTextEn.innerText = "Show Certificates Gallery (23+)";
                btnIcon.className = "fa-solid fa-images";
                isExpanded = false;
                
                document.getElementById('certificates').scrollIntoView({ behavior: 'smooth' });
            }
        }
    </script>
</body>
</html>
